<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="https://www.w3.org/2005/Atom">
  <title>那年星空</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://wangdongyang.github.io/"/>
  <updated>2019-11-14T11:12:03.214Z</updated>
  <id>https://wangdongyang.github.io/</id>
  
  <author>
    <name>joe</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>超级签名详细实现</title>
    <link href="https://wangdongyang.github.io/2019/11/14/%E8%B6%85%E7%BA%A7%E7%AD%BE%E5%90%8D%E8%AF%A6%E7%BB%86%E5%AE%9E%E7%8E%B0/"/>
    <id>https://wangdongyang.github.io/2019/11/14/%E8%B6%85%E7%BA%A7%E7%AD%BE%E5%90%8D%E8%AF%A6%E7%BB%86%E5%AE%9E%E7%8E%B0/</id>
    <published>2019-11-14T10:06:54.000Z</published>
    <updated>2019-11-14T11:12:03.214Z</updated>
    
    <content type="html"><![CDATA[<h2 id="超级签名详细实现"><a href="#超级签名详细实现" class="headerlink" title="超级签名详细实现"></a>超级签名详细实现</h2><p>所谓的超级签名，其实一句话就能说清楚：使用了苹果提供给开发者的Ad-Hoc分发通道，把安装设备当做开发设备进行分发。</p><p>优势：直接分发，安装即可运行，不需要用户做企业证书的信任操作，不会有证书吊销导致的风险<br>劣势：成本昂贵，单开发者账号的iPhone设备数量只有100个，</p><a id="more"></a><h3 id="实现流程"><a href="#实现流程" class="headerlink" title="实现流程"></a>实现流程</h3><p><img src="/2019/11/14/%E8%B6%85%E7%BA%A7%E7%AD%BE%E5%90%8D%E8%AF%A6%E7%BB%86%E5%AE%9E%E7%8E%B0/20191114_05.jpg?40" alt></p><ol><li>手机安装<code>.mobileconf</code>文件，将UDID发给服务器</li><li>服务器将收到的UDID注册到苹果开发者账号中，并更新描述文件</li><li>将更新后的描述文件来重签App</li><li>最后将重签的App上传至cdn，利用<code>itms-services</code>方式做分发下载</li></ol><h3 id="详细实现细节"><a href="#详细实现细节" class="headerlink" title="详细实现细节"></a>详细实现细节</h3><ol><li>准备好获取UDID的配置文件，也就是<code>.mobileconf</code>文件，文件内容大致如下:</li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd"&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="tag">&lt;<span class="name">plist</span> <span class="attr">version</span>=<span class="string">"1.0"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dict</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">key</span>&gt;</span>PayloadContent<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dict</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">key</span>&gt;</span>URL<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">!–</span> 接收数据的接口地址 –&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">string</span>&gt;</span>http://106.54.214.191:443/udid/receive<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">key</span>&gt;</span>DeviceAttributes<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">array</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">string</span>&gt;</span>UDID<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">string</span>&gt;</span>IMEI<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">string</span>&gt;</span>ICCID<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">string</span>&gt;</span>VERSION<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">string</span>&gt;</span>PRODUCT<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">array</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dict</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">key</span>&gt;</span>PayloadOrganization<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">string</span>&gt;</span>www.qianniuniu.com<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">key</span>&gt;</span>PayloadDisplayName<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">string</span>&gt;</span>Test<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">key</span>&gt;</span>PayloadVersion<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">integer</span>&gt;</span>1<span class="tag">&lt;/<span class="name">integer</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">key</span>&gt;</span>PayloadUUID<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">string</span>&gt;</span>8C7AD0B8-3900-44DF-A52F-3C4F92921807<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">key</span>&gt;</span>PayloadIdentifier<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">string</span>&gt;</span>com.super.signature<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">key</span>&gt;</span>PayloadDescription<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">string</span>&gt;</span>该配置文件将帮助用户获取当前iOS设备的UDID号码。This temporary profile will be used to find and display your current device's UDID.<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">key</span>&gt;</span>PayloadType<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">string</span>&gt;</span>Profile Service<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dict</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plist</span>&gt;</span></span><br></pre></td></tr></table></figure><ol start="2"><li>使用服务器https证书对配置文件签名</li></ol><p><img src="/2019/11/14/%E8%B6%85%E7%BA%A7%E7%AD%BE%E5%90%8D%E8%AF%A6%E7%BB%86%E5%AE%9E%E7%8E%B0/20191114_02.PNG" alt></p><ol start="3"><li><p>当用户点击上图的右上角安装后，就会调用<code>http://106.54.214.191:443/udid/receive</code>这个地址，服务器端就会收到UDID等信息</p></li><li><p>利用开源工具Spaceship，注册新的开发者设备到苹果开发者中心，并更新 Provisioning Profile，服务器端使用的是 ruby 脚本来完成这个功能：</p></li></ol><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/ruby -w</span></span><br><span class="line"><span class="keyword">require</span> <span class="string">"spaceship"</span></span><br><span class="line"></span><br><span class="line">puts <span class="string">"======Hello, Write Start======"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 先登录</span></span><br><span class="line">Spaceship::Portal.login(<span class="string">"1711218908@qq.com"</span>, <span class="string">"密码"</span>)</span><br><span class="line"></span><br><span class="line">is_bundle = Spaceship.app.find(<span class="string">"com.super01.signature"</span>)</span><br><span class="line"><span class="keyword">if</span> !is_bundle</span><br><span class="line">  Spaceship.app.create!(bundle_id: <span class="string">"com.super01.signature"</span>, name: <span class="string">'iosudid'</span>)</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line"><span class="comment">#group权限</span></span><br><span class="line">app = Spaceship::Portal.app.find(<span class="string">"com.super01.signature"</span>)</span><br><span class="line"></span><br><span class="line">group = Spaceship::Portal.app_group.find(<span class="string">"group.com.super01.signature"</span>)</span><br><span class="line"><span class="keyword">if</span> !group</span><br><span class="line">    group = Spaceship::Portal.app_group.create!(group_id: <span class="string">"group.com.super01.signature"</span>,name: <span class="string">"Another group"</span>)</span><br><span class="line">end</span><br><span class="line">app = app.associate_groups([group])</span><br><span class="line">app.update_service(Spaceship::Portal.app_service.network_extension.on)</span><br><span class="line">app.update_service(Spaceship::Portal.app_service.access_wifi.on)</span><br><span class="line">app.update_service(Spaceship::Portal.app_service.push_notification.on)</span><br><span class="line">app.update_service(Spaceship::Portal.app_service.game_center.on)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 新增设备的UDID</span></span><br><span class="line">Spaceship::Portal.device.create!(name: <span class="string">"王方"</span>, udid: <span class="string">"7d7da5ba1d924d43b512c9ba9f976fdf47085209"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#更新设备</span></span><br><span class="line">allDevices = Spaceship.device.all</span><br><span class="line">device_profiles = Spaceship::Portal.provisioning_profile.ad_hoc.find_by_bundle_id(bundle_id: <span class="string">"com.super01.signature"</span>)</span><br><span class="line">device_profiles.each <span class="keyword">do</span> |profile|</span><br><span class="line">    profile.devices = allDevices</span><br><span class="line">    profile.update!</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line"><span class="comment">#下载描述文件</span></span><br><span class="line">matching_profiles = Spaceship::Portal.provisioning_profile.ad_hoc.find_by_bundle_id(bundle_id: <span class="string">"com.super01.signature"</span>)</span><br><span class="line"><span class="keyword">if</span> matching_profiles.first</span><br><span class="line">  File.write(<span class="string">"SuperSignatureAdHocProfile.mobileprovision"</span>, matching_profiles.first.download)</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">       cert = Spaceship::Portal.certificate.production.all.first</span><br><span class="line">       profile=Spaceship.provisioning_profile.ad_hoc.create!(bundle_id: <span class="string">"com.super01.signature"</span>, certificate: cert, name: <span class="string">"com.super01.signature adhoc"</span>)</span><br><span class="line">    File.write(<span class="string">"SuperSignatureAdHocProfile.mobileprovision"</span>, profile.download)</span><br><span class="line">end</span><br><span class="line">                          </span><br><span class="line">puts <span class="string">"====== Hello, Write End! ======"</span></span><br></pre></td></tr></table></figure><ol start="5"><li><p>制作.cer证书，这一步和我们平时做iOS开发一样，我就不多说了</p></li><li><p>重点来了，ipa包的重签，这里使用的是 <a href="https://github.com/zhlynn/zsign" target="_blank" rel="noopener">zsign</a>，将步骤3中更新后的描述文件和步骤4中的证书放在zsign项目的同一级目录下，如下图：<br> <img src="/2019/11/14/%E8%B6%85%E7%BA%A7%E7%AD%BE%E5%90%8D%E8%AF%A6%E7%BB%86%E5%AE%9E%E7%8E%B0/20191114_01.PNG" alt></p><p> 使用命令如下：</p> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./zsign -k key.p12 -p 123 -m SuperSignatureAdHocProfile.prov -o output.ipa SASpecs.app</span><br></pre></td></tr></table></figure><p> 将重签好的ipa包上传至cdn服务器，下一步制作分发文件。</p></li><li><p>分发文件（<code>manifest.plist</code>）需要准备两张图片的下载地址，文件内容如下：</p></li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd"&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">plist</span> <span class="attr">version</span>=<span class="string">"1.0"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dict</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">key</span>&gt;</span>items<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">array</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dict</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">key</span>&gt;</span>assets<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">array</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dict</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">key</span>&gt;</span>kind<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">string</span>&gt;</span>software-package<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">key</span>&gt;</span>url<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">string</span>&gt;</span>https://qnnapk-1251122539.cos.ap-shanghai.myqcloud.com/SASpecs.ipa<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dict</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dict</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">key</span>&gt;</span>kind<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">string</span>&gt;</span>display-image<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">key</span>&gt;</span>url<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">string</span>&gt;</span>https://qnnapk-1251122539.cos.ap-shanghai.myqcloud.com/57.png<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dict</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dict</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">key</span>&gt;</span>kind<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">string</span>&gt;</span>full-size-image<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">key</span>&gt;</span>url<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">string</span>&gt;</span>https://qnnapk-1251122539.cos.ap-shanghai.myqcloud.com/512.png<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dict</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">array</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">key</span>&gt;</span>metadata<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dict</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">key</span>&gt;</span>bundle-identifier<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">string</span>&gt;</span>com.super.signature<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">key</span>&gt;</span>bundle-version<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">string</span>&gt;</span>1.0<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">key</span>&gt;</span>kind<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">string</span>&gt;</span>software<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">key</span>&gt;</span>platform-identifier<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">string</span>&gt;</span>com.apple.platform.iphoneos<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">key</span>&gt;</span>title<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">string</span>&gt;</span>SASpecs<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dict</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dict</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">array</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dict</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plist</span>&gt;</span></span><br></pre></td></tr></table></figure><ol start="8"><li>当用户下载这个分发文件后就会安装对应的ipa包，</li></ol><p><img src="/2019/11/14/%E8%B6%85%E7%BA%A7%E7%AD%BE%E5%90%8D%E8%AF%A6%E7%BB%86%E5%AE%9E%E7%8E%B0/20191114_04.PNG" alt></p><h2 id="至此，大功告成"><a href="#至此，大功告成" class="headerlink" title="至此，大功告成"></a>至此，大功告成</h2>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;超级签名详细实现&quot;&gt;&lt;a href=&quot;#超级签名详细实现&quot; class=&quot;headerlink&quot; title=&quot;超级签名详细实现&quot;&gt;&lt;/a&gt;超级签名详细实现&lt;/h2&gt;&lt;p&gt;所谓的超级签名，其实一句话就能说清楚：使用了苹果提供给开发者的Ad-Hoc分发通道，把安装设备当做开发设备进行分发。&lt;/p&gt;
&lt;p&gt;优势：直接分发，安装即可运行，不需要用户做企业证书的信任操作，不会有证书吊销导致的风险&lt;br&gt;劣势：成本昂贵，单开发者账号的iPhone设备数量只有100个，&lt;/p&gt;
    
    </summary>
    
    
      <category term="技术" scheme="https://wangdongyang.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="超级签名" scheme="https://wangdongyang.github.io/tags/%E8%B6%85%E7%BA%A7%E7%AD%BE%E5%90%8D/"/>
    
  </entry>
  
  <entry>
    <title>Next主题设置分类和标签</title>
    <link href="https://wangdongyang.github.io/2019/11/13/next-theme-set-tags/"/>
    <id>https://wangdongyang.github.io/2019/11/13/next-theme-set-tags/</id>
    <published>2019-11-13T10:06:25.000Z</published>
    <updated>2019-11-14T10:34:12.133Z</updated>
    
    <content type="html"><![CDATA[<p>最近将Hexo的主题换成了Next，发现配置 <code>themes/next/_config.yml</code>后，点击分类或标签显示Cannot GET /tags/%20/的问题，查官方文档好像也没有具体说明，只能自己去一步一步试，也记录一下解决问题的过程：</p><p>使用 <code>hexo new page &quot;tags&quot;</code> 和 <code>hexo new page &quot;categories&quot;</code> 在source目录下生成对应的本地文件，</p><p>修改 <code>tags/index.md</code> 文件</p><a id="more"></a><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 分类</span><br><span class="line">date: 2019-11-13 17:15:12</span><br><span class="line">type: &quot;tags&quot;</span><br><span class="line">---</span><br></pre></td></tr></table></figure><p>修改 <code>categories/index.md</code> 文件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: categories</span><br><span class="line">date: 2019-11-13 17:40:15</span><br><span class="line">type: &quot;categories&quot;</span><br><span class="line">---</span><br></pre></td></tr></table></figure><p>然后每次写的新文章顶部写入categories/tags的value值, hexo即可自动帮你进行分类或标签管理</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 加密解密</span><br><span class="line">date: 2019-02-21 20:38:37</span><br><span class="line">categories: 学习笔记</span><br><span class="line">tags: iOS</span><br><span class="line">---</span><br></pre></td></tr></table></figure><p>主题配置文件也别忘了打开以下注释，</p><p>注意：重点来了</p><blockquote><p><code>/||</code> 之间去掉空格<br><code>/||</code> 之间去掉空格<br><code>/||</code> 之间去掉空格</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">menu:</span><br><span class="line">  home: /|| home</span><br><span class="line">  #about: /about/ || user</span><br><span class="line">  tags: /tags/|| tags</span><br><span class="line">  categories: /categories/|| th</span><br><span class="line">  archives: /archives/|| archive</span><br><span class="line">  #schedule: /schedule/ || calendar</span><br><span class="line">  #sitemap: /sitemap.xml || sitemap</span><br><span class="line">  #commonweal: /404/ || heartbeat</span><br></pre></td></tr></table></figure><p><img src="/2019/11/13/next-theme-set-tags/20191112.png" alt="20191112"></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;最近将Hexo的主题换成了Next，发现配置 &lt;code&gt;themes/next/_config.yml&lt;/code&gt;后，点击分类或标签显示Cannot GET /tags/%20/的问题，查官方文档好像也没有具体说明，只能自己去一步一步试，也记录一下解决问题的过程：&lt;/p&gt;
&lt;p&gt;使用 &lt;code&gt;hexo new page &amp;quot;tags&amp;quot;&lt;/code&gt; 和 &lt;code&gt;hexo new page &amp;quot;categories&amp;quot;&lt;/code&gt; 在source目录下生成对应的本地文件，&lt;/p&gt;
&lt;p&gt;修改 &lt;code&gt;tags/index.md&lt;/code&gt; 文件&lt;/p&gt;
    
    </summary>
    
    
      <category term="技术" scheme="https://wangdongyang.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="Hexo" scheme="https://wangdongyang.github.io/tags/Hexo/"/>
    
  </entry>
  
</feed>
